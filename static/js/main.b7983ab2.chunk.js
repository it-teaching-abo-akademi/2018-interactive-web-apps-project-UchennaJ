(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(t,e,a){t.exports=a(258)},124:function(t,e,a){},126:function(t,e,a){},258:function(t,e,a){"use strict";a.r(e);var o=a(1),s=a.n(o),n=a(53),i=a.n(n),l=(a(124),a(107)),r=a(40),c=a(41),u=a(43),h=a(42),p=a(44),m=(a(126),a(263)),d=a(256),f=a(257),v=a(262),k=a(260),g=a(106),y=a(259),S=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={portfolioList:[],count:0,value:"",show:!1},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"addPortFolio",value:function(t,e,a){var o=this;if(a){if("undefined"===typeof localStorage.portfolioName)var n=[];else n=JSON.parse(localStorage.portfolioName);var i={i:e,n:t,s:[],k:0};n.push(i),localStorage.portfolioName=JSON.stringify(n),localStorage.k=this.state.count+1}var l=this.state.portfolioList;l.push(s.a.createElement(E,{id:e,name:t,onClick:function(){return o.delPortFolio(e)}})),this.setState({portfolioList:l});var r=this.state.count+1;this.setState({count:r}),this.setState({show:!1})}},{key:"delPortFolio",value:function(t){alert("The portfolio will now be deleted");for(var e=JSON.parse(localStorage.portfolioName),a=0;a<e.length;a++)e[a].i===t&&e.splice(a,1);localStorage.portfolioName=JSON.stringify(e);for(var o=this.state.portfolioList,s=0;s<o.length;s++)o[s].props.id===t&&o.splice(s,1);this.setState({portfolioList:o})}},{key:"handleChange",value:function(t){this.setState({value:t.target.value})}},{key:"componentWillMount",value:function(){if(localStorage.k){var t=JSON.parse(localStorage.k);this.setState({count:t})}}},{key:"componentDidMount",value:function(){if(localStorage.portfolioName&&localStorage.k){var t=JSON.parse(localStorage.portfolioName);for(var e in t)this.addPortFolio(t[e].n,t[e].i,!1)}}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"Header"},s.a.createElement("div",{className:"Header-title"},s.a.createElement("span",null,"Stock Portfolio Management System"))),this.state.portfolioList.length<10&&s.a.createElement("button",{type:"button",className:"AddPortfolioBtn",onClick:function(){return t.setState({show:!0})}}," Add new Portfolio "),this.state.show&&s.a.createElement("div",null,s.a.createElement("input",{type:"text",placeholder:"Portfolio name",value:this.state.value,onChange:this.handleChange.bind(this)}),s.a.createElement("button",{onClick:function(){return t.addPortFolio(t.state.value,t.state.count,!0)}},"Validate")),s.a.createElement("div",{className:"Spacer"}),s.a.createElement("div",{className:"Portfolio_container col-11 col-m-11 clearfix"},this.state.portfolioList))}}]),e}(s.a.Component),E=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={id:null,name:null,stockList:[],portName:"",portfolioQuantity:"",total:0,currency:"$",countP:0,show:!1,currencyValue:null},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"addStock",value:function(t,e,a,o,n){var i=this,l=n;"\u20ac"===this.state.currency&&(o=(a*=this.state.currencyValue)*e);var r=this.state.countP;l.push(s.a.createElement(N,{key:this.state.countP,idStock:this.state.countP,name:t,quantity:e,value:a,totalAmount:o,selected:!1,onChange:function(){return i.selectStock(r)}})),this.updateC(),this.setState({stockList:l},function(){var t=this.state.countP+1;this.setState({countP:t}),this.getTotalAmount()})}},{key:"addArray",value:function(t,e,a,o,n,i,l,r){return function(){t.push(s.a.createElement(N,{key:e,idStock:e,name:a,quantity:o,value:n,totalAmount:i,selected:l,onChange:function(){return r.selectStock(e)}}))}}},{key:"getLatestValue",value:function(){var t=this,e=new XMLHttpRequest;e.open("GET","https://www.alphavantage.co/query?function=CURRENCY_EXCHANGE_RATE&from_currency=USD&to_currency=EUR&apikey=8EJF6T5NRPCXT944",!0),e.onreadystatechange=function(){if(4===e.readyState){var a=JSON.parse(e.responseText)["Realtime Currency Exchange Rate"]["5. Exchange Rate"];t.setState({currencyValue:a})}},e.send()}},{key:"add",value:function(t,e,a,o){this.setState({show:!1});var s=this,n=a,i=new XMLHttpRequest;i.open("GET","https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol="+t+"&interval=1min&apikey=8EJF6T5NRPCXT944",!0),i.onreadystatechange=function(){if(4===i.readyState){var a,l=JSON.parse(i.responseText),r=0;for(a in l){if(1===r)var c=l[a];r++}for(a in r=0,c){if(0===r){var u=c[a]["4. close"],h=u*e;if(s.addStock(t,e,u,h,n),o){var p=JSON.parse(localStorage.portfolioName);for(var m in p)if(p[m].i===s.props.id){var d=t,f=e;p[m].s.push({stockName:d,stockQuantity:f})}localStorage.portfolioName=JSON.stringify(p)}}r++}r=0}},i.send()}},{key:"handleChangeN",value:function(t){this.setState({portName:t.target.value})}},{key:"handleChangeQ",value:function(t){this.setState({portfolioQuantity:t.target.value})}},{key:"selectStock",value:function(t){for(var e,a,o=this.state.stockList,s=0;s<this.state.stockList.length;s++)this.state.stockList[s].props.idStock===t&&(e=this.addArray(o,this.state.countP,this.state.stockList[s].props.name,this.state.stockList[s].props.quantity,this.state.stockList[s].props.value,this.state.stockList[s].props.totalAmount,!this.state.stockList[s].props.selected,this),a=s);e(),o.splice(a,1),this.setState({stockList:o});var n=this.state.countP+1;this.setState({countP:n}),this.getTotalAmount();for(var i=JSON.parse(localStorage.portfolioName),l=0;l<i.length;l++)i[l].i===this.props.id&&i[l].k++;localStorage.portfolioName=JSON.stringify(i)}},{key:"removeSelected",value:function(){alert("The selected stock will be removed now");for(var t=[],e=[],a=this.state.countP,o=0;o<this.state.stockList.length;o++){if(this.state.stockList[o].props.selected){for(var s=JSON.parse(localStorage.portfolioName),n=0;n<s.length;n++)if(s[n].i===this.props.id)for(var i=0;i<s[n].s.length;i++)s[n].s[i].stockName===this.state.stockList[o].props.name&&s[n].s[i].stockQuantity===this.state.stockList[o].props.quantity&&s[n].s.splice(i,1);localStorage.portfolioName=JSON.stringify(s)}else t.push(this.addArray(e,a,this.state.stockList[o].props.name,this.state.stockList[o].props.quantity,this.state.stockList[o].props.value,this.state.stockList[o].props.totalAmount,this.state.stockList[o].props.selected,this));a++}for(var l=0;l<t.length;l++)t[l]();this.updateC(),this.setState({stockList:e},function(){this.setState({countP:a}),this.getTotalAmount()})}},{key:"stockInDollar",value:function(){if("\u20ac"===this.state.currency){this.setState({currency:"$"});for(var t=this.state.countP,e=[],a=[],o=0;o<this.state.stockList.length;o++){var s=this.state.stockList[o].props.value/this.state.currencyValue,n=s*this.state.stockList[o].props.quantity;a.push(this.addArray(e,t,this.state.stockList[o].props.name,this.state.stockList[o].props.quantity,s,n,this.state.stockList[o].props.selected,this)),t++}for(var i=0;i<a.length;i++)a[i]();this.updateC(),this.setState({stockList:e},function(){this.setState({countP:t}),this.getTotalAmount()})}}},{key:"stockInEuro",value:function(){if("$"===this.state.currency){this.setState({currency:"\u20ac"});for(var t=this.state.countP,e=[],a=[],o=0;o<this.state.stockList.length;o++){var s=this.state.stockList[o].props.value*this.state.currencyValue,n=s*this.state.stockList[o].props.quantity;a.push(this.addArray(e,t,this.state.stockList[o].props.name,this.state.stockList[o].props.quantity,s,n,this.state.stockList[o].props.selected,this)),t++}for(var i=0;i<a.length;i++)a[i]();this.updateC(),this.setState({stockList:e},function(){this.setState({countP:t}),this.getTotalAmount()})}}},{key:"updateC",value:function(){for(var t=JSON.parse(localStorage.portfolioName),e=0;e<t.length;e++)t[e].i===this.props.id&&t[e].k++;localStorage.portfolioName=JSON.stringify(t)}},{key:"getTotalAmount",value:function(){for(var t=0,e=0;e<this.state.stockList.length;e++)t+=this.state.stockList[e].props.totalAmount;this.setState({total:t})}},{key:"componentWillMount",value:function(){for(var t=JSON.parse(localStorage.portfolioName),e=0;e<t.length;e++)t[e].i===this.props.id&&this.setState({countP:t[e].k});localStorage.portfolioName=JSON.stringify(t)}},{key:"componentDidMount",value:function(){this.getLatestValue();for(var t=JSON.parse(localStorage.portfolioName),e=0;e<t.length;e++)if(t[e].i===this.props.id)for(var a=0;a<t[e].s.length;a++)this.add(t[e].s[a].stockName,t[e].s[a].stockQuantity,this.state.stockList,!1);localStorage.portfolioName=JSON.stringify(t)}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"Portfolio col- col-5 col-m-11"},s.a.createElement("div",{className:"Portfolio-inner"},s.a.createElement("span",{className:"Portfolio-title col- col-5 col-m-11"},this.props.name),this.state.show&&s.a.createElement("div",null,s.a.createElement("input",{type:"text",placeholder:"Stock name",value:this.state.portName,onChange:this.handleChangeN.bind(this)}),s.a.createElement("input",{type:"text",placeholder:"Quantity",value:this.state.portfolioQuantity,onChange:this.handleChangeQ.bind(this)}),s.a.createElement("button",{onClick:function(){return t.add(t.state.portName,t.state.portfolioQuantity,t.state.stockList,!0)}},"Validate")),s.a.createElement("div",{className:"portfolio-btn"},s.a.createElement("button",{className:"portfolio-euro",onClick:function(){return t.stockInEuro()}},"Show in \u20ac"),s.a.createElement("button",{className:"portfolio-dollar",onClick:function(){return t.stockInDollar()}},"Show in $"),s.a.createElement("button",{className:"portfolio-deleteBtn",onClick:function(){return t.props.onClick(t.props.id)}},"X"),s.a.createElement("br",null)),s.a.createElement("div",{className:"Portfolio-content"},s.a.createElement("table",{width:"500"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Unit value"),s.a.createElement("th",null,"Quantity"),s.a.createElement("th",null,"Total value"),s.a.createElement("th",null,"Select"),s.a.createElement("th",null,"Perf Graph"))),s.a.createElement("tbody",null,this.state.stockList))),s.a.createElement("div",null,"Total value of ",this.props.name," : ",this.state.total," ",this.state.currency),s.a.createElement("br",null),this.state.stockList.length<50&&s.a.createElement("button",{onClick:function(){return t.setState({show:!0})}},"Add stock"),s.a.createElement("button",{onClick:function(){return t.removeSelected()}},"Remove selected")))}}]),e}(s.a.Component),N=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(u.a)(this,Object(h.a)(e).call(this,t))).toggleModal=function(){a.setState({isOpen:!a.state.isOpen})},a.state={name:null,idStock:null,totalAmount:0,quantity:0,value:0,selected:!1,isOpen:!1},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("tr",null,s.a.createElement("td",{align:"center"},this.props.name),s.a.createElement("td",{align:"center"},this.props.value),s.a.createElement("td",{align:"center"},this.props.quantity),s.a.createElement("td",{align:"center"},this.props.totalAmount),s.a.createElement("td",{align:"center"},s.a.createElement("input",{type:"checkbox",checked:this.props.selected,onChange:function(){return t.props.onChange(t.props.idStock)}})),s.a.createElement("td",{align:"center"},s.a.createElement("button",{onClick:function(){return t.toggleModal()}},"Graph")),s.a.createElement(b,{stockname:this.props.name,show:this.state.isOpen,onClose:this.toggleModal}))}}]),e}(s.a.Component),b=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={data:[],startDate:"",endDate:"",stockname:null,minDateAvailable:null,maxDateAvailable:null},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"stockData",value:function(t,e){var a=[];this.setState({minDateAvailable:e[e.length-1]}),this.setState({maxDateAvailable:e[0]});var o=e.length-1,s=0;if(null!==this.state.startDate&&null!==this.state.endDate)for(var n=t.length-1;n>=0;n--)e[n]===this.state.startDate&&(o=n),e[n]===this.state.endDate&&(s=n);for(n=o;n>=s;n--)a.push(Object(l.a)({name:e[n]},this.props.stockname,parseFloat(t[n])));this.setState({data:a})}},{key:"getStockData",value:function(){this.setState({show:!1});var t=new XMLHttpRequest,e=this;t.open("GET","https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol="+this.props.stockname+"&apikey=8EJF6T5NRPCXT944",!0),t.onreadystatechange=function(){if(4===t.readyState){var a,o=JSON.parse(t.responseText),s=0;for(a in o){if(1===s)var n=o[a];s++}s=0;var i=[],l=[];for(a in n){var r=n[a]["4. close"];l.push(r),i.push(a),s++}s=0,e.stockData(l,i)}},t.send()}},{key:"handleChangeF",value:function(t){this.setState({startDate:t.target.value})}},{key:"handleChangeS",value:function(t){this.setState({endDate:t.target.value})}},{key:"componentDidMount",value:function(){this.getStockData()}},{key:"render",value:function(){var t=this;if(!this.props.show)return null;return s.a.createElement("div",{className:"backdrop",style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.3)",padding:50}},s.a.createElement("div",{className:"modal",style:{backgroundColor:"#fff",borderRadius:5,maxWidth:1500,minHeight:600,margin:"0 auto",padding:30}},s.a.createElement("input",{type:"date",name:"bday",value:this.state.startDate,onChange:this.handleChangeF.bind(this),min:this.state.minDateAvailable,max:this.state.maxDateAvailable}),s.a.createElement("input",{type:"date",name:"bday",value:this.state.endDate,onChange:this.handleChangeS.bind(this),min:this.state.minDateAvailable,max:this.state.maxDateAvailable}),s.a.createElement("button",{className:"plotBtn",onClick:function(){return t.getStockData()}}," Plot "),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"GraphWindow"},s.a.createElement(m.a,{width:1e3,height:550,data:this.state.data,margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(d.a,{dataKey:"name"}),s.a.createElement(f.a,null),s.a.createElement(v.a,{strokeDasharray:"3 3"}),s.a.createElement(k.a,null),s.a.createElement(g.a,null),s.a.createElement(y.a,{type:"monotone",dataKey:this.props.stockname,stroke:"#8884d8",activeDot:{r:8}}))),s.a.createElement("div",{className:"footer"},s.a.createElement("button",{className:"close",onClick:this.props.onClose},"Close"))))}}]),e}(o.Component),L=S;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[119,2,1]]]);
//# sourceMappingURL=main.b7983ab2.chunk.js.map